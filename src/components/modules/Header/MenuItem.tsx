"use client";

import { FaAngleDown, FaUser } from "react-icons/fa";
import Link from "next/link";
import { UserInfoType } from "./HeaderTest";

interface MenuItem {
  label: string;
  href: string;
  icon: JSX.Element;
}

export const menuItems: MenuItem[] = [
  {
    label: "Go to Hub",
    href: "/dashboard",
    icon: (
      <svg
        width="19"
        height="19"
        viewBox="0 0 19 19"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M10.0461 9.54609C10.0461 9.82224 9.82224 10.0461 9.54609 10.0461V11.0461C10.3745 11.0461 11.0461 10.3745 11.0461 9.54609H10.0461ZM9.54609 10.0461C9.26995 10.0461 9.04609 9.82224 9.04609 9.54609H8.04609C8.04609 10.3745 8.71767 11.0461 9.54609 11.0461V10.0461ZM9.04609 9.54609C9.04609 9.26995 9.26995 9.04609 9.54609 9.04609V8.04609C8.71767 8.04609 8.04609 8.71767 8.04609 9.54609H9.04609ZM9.54609 9.04609C9.82224 9.04609 10.0461 9.26995 10.0461 9.54609H11.0461C11.0461 8.71767 10.3745 8.04609 9.54609 8.04609V9.04609ZM9.54609 10.0461H9.5561V9.04609H9.54609V10.0461ZM12.7281 12.7281C10.6188 14.8374 8.33696 16.3405 6.37053 17.0779C4.35769 17.8327 2.87389 17.7231 2.12147 16.9707L1.41437 17.6778C2.61458 18.878 4.63975 18.795 6.72166 18.0143C8.84999 17.2161 11.2487 15.6217 13.4352 13.4352L12.7281 12.7281ZM2.12147 16.9707C1.36906 16.2183 1.25944 14.7345 2.01426 12.7217C2.75167 10.7552 4.25482 8.47341 6.36411 6.36411L5.65701 5.65701C3.47054 7.84348 1.87606 10.2422 1.07793 12.3705C0.297215 14.4524 0.214159 16.4776 1.41437 17.6778L2.12147 16.9707ZM6.36411 6.36411C8.47341 4.25482 10.7552 2.75167 12.7217 2.01426C14.7345 1.25944 16.2183 1.36906 16.9707 2.12147L17.6778 1.41437C16.4776 0.214158 14.4524 0.297214 12.3705 1.07793C10.2422 1.87605 7.84348 3.47054 5.65701 5.65701L6.36411 6.36411ZM16.9707 2.12147C17.7231 2.87389 17.8327 4.35768 17.0779 6.37053C16.3405 8.33696 14.8374 10.6188 12.7281 12.7281L13.4352 13.4352C15.6217 11.2487 17.2161 8.84999 18.0143 6.72166C18.795 4.63975 18.878 2.61458 17.6778 1.41437L16.9707 2.12147ZM12.7281 6.36411C14.8374 8.47341 16.3405 10.7552 17.0779 12.7217C17.8327 14.7345 17.7231 16.2183 16.9707 16.9707L17.6778 17.6778C18.878 16.4776 18.795 14.4524 18.0143 12.3705C17.2161 10.2422 15.6217 7.84348 13.4352 5.65701L12.7281 6.36411ZM16.9707 16.9707C16.2183 17.7231 14.7345 17.8327 12.7217 17.0779C10.7552 16.3405 8.47341 14.8374 6.36411 12.7281L5.65701 13.4352C7.84348 15.6217 10.2422 17.2161 12.3705 18.0143C14.4524 18.795 16.4776 18.878 17.6778 17.6778L16.9707 16.9707ZM6.36411 12.7281C4.25482 10.6188 2.75167 8.33696 2.01426 6.37053C1.25944 4.35769 1.36906 2.87389 2.12147 2.12147L1.41437 1.41437C0.214158 2.61458 0.297214 4.63975 1.07793 6.72166C1.87605 8.84999 3.47054 11.2487 5.65701 13.4352L6.36411 12.7281ZM2.12147 2.12147C2.87389 1.36906 4.35769 1.25944 6.37053 2.01426C8.33696 2.75167 10.6188 4.25482 12.7281 6.36411L13.4352 5.65701C11.2487 3.47054 8.84999 1.87605 6.72166 1.07793C4.63975 0.297214 2.61458 0.214158 1.41437 1.41437L2.12147 2.12147Z"
          fill="#D8D8D8"
        />
      </svg>
    ),
  },
  {
    label: "Edit Profile",
    href: "/dashboard/account/my-profile",
    icon: (
      <svg
        width="18"
        height="20"
        viewBox="0 0 18 20"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M1 19C1 15.134 4.13401 12 8 12C8.33952 12 8.6734 12.0242 9 12.0709M12 5C12 7.20914 10.2091 9 8 9C5.79086 9 4 7.20914 4 5C4 2.79086 5.79086 1 8 1C10.2091 1 12 2.79086 12 5ZM9.58984 19L11.6148 18.595C11.7914 18.5597 11.8797 18.542 11.962 18.5097C12.0351 18.4811 12.1045 18.4439 12.1689 18.399C12.2414 18.3484 12.3051 18.2848 12.4324 18.1574L16.5898 14C17.1421 13.4477 17.1421 12.5523 16.5898 12C16.0376 11.4477 15.1421 11.4477 14.5898 12L10.4324 16.1574C10.3051 16.2848 10.2414 16.3484 10.1908 16.421C10.1459 16.4853 10.1088 16.5548 10.0801 16.6279C10.0478 16.7102 10.0302 16.7985 9.99484 16.975L9.58984 19Z"
          stroke="#D9D9D9"
          stroke-linecap="round"
          strokeLinejoin="round"
        />
      </svg>
    ),
  },
  {
    label: "Messages",
    href: "/dashboard/support/messages",
    icon: (
      <svg
        width="20"
        height="16"
        viewBox="0 0 20 16"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M1 4L6.44992 7.63328C7.73295 8.48863 8.37446 8.91631 9.06785 9.08247C9.68061 9.22931 10.3194 9.22931 10.9322 9.08247C11.6255 8.91631 12.2671 8.48863 13.5501 7.63328L19 4M4.2 15H15.8C16.9201 15 17.4802 15 17.908 14.782C18.2843 14.5903 18.5903 14.2843 18.782 13.908C19 13.4802 19 12.9201 19 11.8V4.2C19 3.0799 19 2.51984 18.782 2.09202C18.5903 1.71569 18.2843 1.40973 17.908 1.21799C17.4802 1 16.9201 1 15.8 1H4.2C3.0799 1 2.51984 1 2.09202 1.21799C1.71569 1.40973 1.40973 1.71569 1.21799 2.09202C1 2.51984 1 3.07989 1 4.2V11.8C1 12.9201 1 13.4802 1.21799 13.908C1.40973 14.2843 1.71569 14.5903 2.09202 14.782C2.51984 15 3.07989 15 4.2 15Z"
          stroke="#D9D9D9"
          stroke-linecap="round"
          strokeLinejoin="round"
        />
      </svg>
    ),
  },
  // {
  //   label: "Logout",
  //   href: "#",
  //   icon: (
  //     <svg
  //       width="20"
  //       height="20"
  //       viewBox="0 0 20 20"
  //       fill="none"
  //       xmlns="http://www.w3.org/2000/svg"
  //     >
  //       <path
  //         d="M1 19.4796L12 19.4795V4.46873C12 3.10469 12 2.42268 11.7187 1.94995C11.472 1.53545 11.0838 1.22407 10.6257 1.07317C10.1032 0.901081 9.43738 1.04903 8.10582 1.34493L5.50582 1.92271C4.6117 2.1214 4.16464 2.22075 3.83093 2.46117C3.53658 2.67322 3.30545 2.96135 3.1623 3.29469C3 3.67261 3 4.13058 3 5.04651V19.4796M11.994 3.47956H13.8C14.9201 3.47956 15.4802 3.47956 15.908 3.69755C16.2843 3.88929 16.5903 4.19525 16.782 4.57158C17 4.9994 17 5.55945 17 6.67956V19.4796H19M9 10.4796H9.01"
  //         stroke="#D9D9D9"
  //         stroke-linecap="round"
  //         strokeLinejoin="round"
  //       />
  //     </svg>
  //   ),
  // },
];
export default function UserMenu({ userInfo }: { userInfo: UserInfoType }) {
  return (
    <div className="relative group hidden md:block">
      {/* Toggle Button */}
      <button className="bg-white px-4 py-2 rounded-lg flex w-fit items-center gap-2 text-[#222] font-semibold shadow hover:bg-gray-50 transition">
        <FaAngleDown className="transition-transform duration-200 group-hover:rotate-180" />
        <FaUser className="text-lg" />
        <span className="text-sm whitespace-nowrap">{userInfo?.first_name} {userInfo?.last_name}</span>
      </button>

      {/* Menu */}
      <ul className="absolute w-44 -right-0 rounded-lg overflow-hidden bg-[var(--main-background)] text-white top-full mt-2 shadow-lg opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200">
        {menuItems.map((item) => (
          <li key={item.label}>
            <Link
              href={item.href}
              className="flex items-center gap-3 px-4 py-2 hover:bg-gray-700 transition-colors"
            >
              <span className="w-5 h-5 flex items-center justify-center">
                {item.icon}
              </span>
              <span>{item.label}</span>
            </Link>
          </li>
        ))}
      </ul>
    </div>
  );
}
